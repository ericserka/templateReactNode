# TEMPLATE REACT JS, NODE JS, POSTGRESQL, KNEX, AXIOS, MATERIAL-UI

- Algumas Observações:
  - Após clonar esse repositório, rode git remote set-url origin git@github.com:username/repositoryname.git no repositório do projeto ao invés do clássico remote add origin.
  - Lembrar de apagar o .git da pasta frontend pra não ter problema na hora de subir tudo pro github
  - npm run format formata os arquivos do diretório de acordo com as regras presentes no arquivo .prettierrc.json. Tem que fazer no backend e no frontend.
  - Comando para atualizar todas as dependências presentes no package.json: npx npm-check-updates -u
- Backend
  - criando o banco de dados no docker
    - docker network create pg
    - docker run -p 5432:5432 --name <NOME_DO_CONTAINER> --net pg -e POSTGRES_PASSWORD=<SUA_SENHA_DO_BANCO_DE_DADOS> -d postgres
    - docker exec -it <NOME_DO_CONTAINER> psql -U postgres
    - CREATE DATABASE <NOME_DO_BANCO_DE_DADOS>;
  - Para fazer a configuração do knex usando postgres, foram usadas variáveis de ambiente. Copie o arquivo .env.example num arquivo .env e preencha os dados solicitados.
  - Babel é um transpilador (transpiler), que transforma código escrito em ES6 em algo que o Node.js consiga entender (CommonJS).
  - os comandos npx knex devem ser executados no diretório do knexfile.js
  - npx knex migrate:make <NOME_DA_MIGRATION> cria uma migration (entidade).
  - Após a configuração de todas as migrations, rodar npx knex migrate:latest.
  - npx knex mostra todos os comandos possíveis de se fazer usando o knex.
  - Os mais importantes são: npx knex migrate:latest, npx knex migrate:rollback e npx knex migrate:status.
  - npx knex migrate:rollback desfaz a última migration executada (através do comando npx knex migrate:make <NOME_DA_MIGRATION>).
  - npx knex migrate:status lista as migrations executadas e fala se tem alguma pendente.
  - para resetar o banco de dados e atualizar as migrations:
    - atualizar as migrations existentes fazendo as alterações necessárias
    - npx knex migrate:latest
    - docker exec -it <NOME_DO_CONTAINER> psql -U postgres
    - DROP DATABASE <NOME_DO_BANCO_DE_DADOS>;
    - CREATE DATABASE <NOME_DO_BANCO_DE_DADOS>;
  - no caso de apenas adicionar uma migration nova, não é necessário dropar o banco de dados. Basta apenas fazer o básico:
    - npx knex migrate:make <NOME_DA_MIGRATION>
    - npx knex migrate:latest
  - No index.js da pasta src do backend, quando for publicar o projeto, fazer:
    - app.use(cors({origin: 'https://enderecoondeositeestahospedado.com.br'}))
  - Essa URL definida no cors seria a URL que pode acessar a aplicação.
- Frontend
  - site que gera favicon a partir de uma imagem: https://realfavicongenerator.net/ (apenas o favicon.ico é relevante, resto é inútil).
  - Utilizar breakpoints do Material-UI para responsividade
  - Evitando warnings na compilação:
    - lembrar do atributo alt nas tags img
    - lembrar do atributo ref="noreferrer" quando usar target="\_blank" em um link
    - se o useEffect tiver warning por conta do array de dependencias, colar o seguinte comentário: // eslint-disable-next-line react-hooks/exhaustive-deps
    - tag iframe precisa do atributo title
